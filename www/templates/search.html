<ion-view title="Search" id="page9">
  <ion-content padding="true" class="has-header gray-bg">
    <form name="searchForm" ng-submit="" novalidate>
      <div class="list card">
        <div class="item item-body">
          <label class="item item-input positive-border"
                 ng-class="{'has-error': searchForm.origin.$dirty && searchForm.origin.$valid && !vm.origin_latlng}">
            <i class="icon ion-location placeholder-icon balanced"></i>
            <input places-auto-complete ng-model="vm.origin_input" type="text" placeholder="From"
                   name="origin" ng-model-options="{debounce: 1000}" ng-change="origin_changed()" required>
          </label>
          <div class="form-error"
               ng-show="searchForm.origin.$dirty && searchForm.origin.$valid && !vm.origin_latlng">
            Not found location
          </div>
          <label class="item item-input positive-border"
                 ng-class="{'has-error': searchForm.destination.$dirty && searchForm.destination.$valid && !vm.destination_latlng}">
            <i class="icon ion-location placeholder-icon assertive"></i>
            <input places-auto-complete ng-model="vm.destination_input" type="text" placeholder="To"
                   name="destination" ng-model-options="{debounce: 1000}" ng-change="destination_changed()" required>
          </label>
          <div class="form-error"
               ng-show="searchForm.destination.$dirty && searchForm.destination.$valid && !vm.destination_latlng">
            Not found location
          </div>
          <div class="item item-icon-left">
            <i class="icon ion-ios-calendar-outline positive"></i>
            Travel date:
            <onezone-datepicker datepicker-object="searchDatepicker">
              <spam class="positive show-onezone-datepicker">
                {{searchDatepicker.date | date:'dd MMMM yyyy'}}
              </spam>
            </onezone-datepicker>
          </div>
          <label class="item item-select">
            <span class="input-label">Distance:</span>
            <select ng-model="vm.distance" ng-options="option.value as option.name for option in distanceOptions" required>
            </select>
          </label>
          <a ng-click="search(vm.origin_latlng, vm.destination_latlng, vm.distance, searchDatepicker.date)"
             id="home-button7" class="button button-positive  button-block icon ion-search"
             type="button">
            Find trip</a>
        </div>
      </div>
    </form>
  </ion-content>
</ion-view>
